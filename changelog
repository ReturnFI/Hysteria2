# [1.9.3] - 2025-05-16

## âœ¨ Changed

### ğŸ”§ System Improvements

* ğŸ•’ **feat:** Replace unreliable cron jobs with a systemd-based `HysteriaScheduler` service  
* ğŸ” **feat:** Add file locking to prevent concurrent access issues with `users.json`  
* â±ï¸ **feat:** Schedule:  
  * Traffic updates every 1 minute  
  * Backups every 6 hours with isolated lock management  
* ğŸ“ **feat:** Add detailed logging for easier troubleshooting and monitoring  

### ğŸ› ï¸ Script Enhancements

* ğŸ“¦ **refactor:** Create shared scheduler install function (used in both `install.sh` & `upgrade.sh`)  
* âš™ï¸ **enhance:** Improve `upgrade.sh`:  
  * Add service checks  
  * Backup handling  
  * Color UI  
  * Robust error handling  
* ğŸ§¼ **fix:** Improve uninstall script to clean up `HysteriaScheduler` service completely  
* ğŸ‘¤ **feat:** Add a default user after installation  
* ğŸ” **fix:** Automatically restart `normal-sub` service after changing its path  

### ğŸ¤– Telegram Bot Improvements

* â• **feat:** Show Normal-SUB link and QR code after adding user  
* ğŸ” If Normal-SUB is not available, fallback to Hysteria2 direct URI and QR  
* ğŸ§ª Improved input validation for username, traffic, and expiration  
